generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" // Cambiar al proveedor de base de datos que uses (mysql, sqlite, etc.)
  url      = env("DATABASE_URL") // URL de tu base de datos
}

model User {
  id           Int           @id @default(autoincrement())
  name         String
  phone        String
  email        String        @unique
  password     String
  role         Role
  reservations Reservation[]
}

enum Role {
  ADMIN
  USER
}

model Service {
  id           Int           @id @default(autoincrement())
  name         String
  description  String
  price        Float
  duration     Int // Duraci√≥n en minutos
  reservations Reservation[]
}

model Reservation {
  id        Int               @id @default(autoincrement())
  userId    Int
  serviceId Int
  dateTime  DateTime
  status    ReservationStatus @default(SCHEDULED)

  user    User    @relation(fields: [userId], references: [id])
  service Service @relation(fields: [serviceId], references: [id])
}

enum ReservationStatus {
  SCHEDULED // Reserva programada
  COMPLETED // Reserva completada
  CANCELED // Reserva cancelada
}
